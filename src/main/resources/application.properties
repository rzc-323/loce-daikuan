# 应用配置
spring.application.name=daikuan-crm
server.port=${PORT:8080}

# 字符编码配置
spring.http.encoding.force=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true

# Tomcat配置
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true
server.servlet.encoding.enabled=true

# 数据库配置 - 支持环境变量配置，默认使用H2内存数据库
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:testdb}
spring.datasource.username=${DATABASE_USERNAME:sa}
spring.datasource.password=${DATABASE_PASSWORD:}
spring.datasource.driver-class-name=${DATABASE_DRIVER:org.h2.Driver}

# H2配置 - 默认启用，生产环境可以通过环境变量禁用
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console

# JPA配置
spring.jpa.hibernate.ddl-auto=${JPA_HIBERNATE_DDL_AUTO:create-drop}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=${JPA_HIBERNATE_DIALECT:org.hibernate.dialect.H2Dialect}
spring.jpa.properties.hibernate.format_sql=${JPA_HIBERNATE_FORMAT_SQL:true}

# Thymeleaf配置
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML5
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.cache=${THYMELEAF_CACHE:false}

# 国际化配置
spring.messages.encoding=UTF-8
spring.messages.basename=i18n/messages

# 安全配置 - 支持环境变量配置默认账号密码
spring.security.user.name=${SECURITY_USER_NAME:admin}
spring.security.user.password=${SECURITY_USER_PASSWORD:admin}
spring.security.user.roles=${SECURITY_USER_ROLES:ADMIN}

# 日志配置
logging.level.root=${LOGGING_LEVEL_ROOT:INFO}
logging.level.com.loce=${LOGGING_LEVEL_LOCE:DEBUG}
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
# 会话配置
server.servlet.session.timeout=${SESSION_TIMEOUT:1800s}

# 生产环境配置提示：
# 1. 设置 SPRING_PROFILES_ACTIVE=prod
# 2. 配置 DATABASE_URL 使用MySQL数据库
# 3. 禁用H2控制台：H2_CONSOLE_ENABLED=false
# 4. 设置 JPA_HIBERNATE_DDL_AUTO=update
# 5. 启用模板缓存：THYMELEAF_CACHE=true
# 6. 关闭SQL日志：JPA_SHOW_SQL=false